{{#extend "preview/layouts/layout"}}
	{{#content "content"}}
		<div class="sg_wrapper sg_module">
			{{#hasVariants variants}}
				<section class="sg_variants">
					<h2 class="sg__collapsible_title">Module Preview</h2>

					<div class="sg_tabs">
						{{#each variants}}
							<input type="radio" name="variants" class="tab_trigger" id="variants{{@index}}"{{#unless @index}} checked{{/unless}} aria-controls="panel{{@index}}" role="tab" />
						{{/each}}

						<div class="panels">
							{{#each variants}}
								<div class="tab_content" id="panel{{@index}}" aria-labelledby="tabLabel{{@index}}" role="tabpanel">
									<div class="sg_demo">
										{{{meta.demo}}}
									</div>
								</div>
							{{/each}}
						</div>

						<div class="labels" aria-hidden="true">
							{{#each variants}}
								<label for="variants{{@index}}" id="tabLabel{{@index}}">{{meta.title}}</label>
							{{/each}}
						</div>

						<div class="panels">
							{{#each variants}}
								<div class="tab_content" id="panel{{@index}}" aria-labelledby="tabLabel{{@index}}" role="tabpanel">
									{{!-- "content" is a reserved word in Handlebars, therefore we need the "this" keyword here. --}}
									{{#if meta}}
										<div class="sg_variant_meta">
											{{#if meta.desc}}
												<p>{{meta.desc}}</p>
											{{/if}}
										</div>
									{{/if}}
{{! Indentation matters... }}
{{> "preview/partials/code"}}
								</div>
							{{/each}}
						</div>

					</div>
				</section>
			{{else}}
				<section class="sg_tree__wrapper">
					<h2 class="sg__collapsible_title">Module Preview</h2>

					{{#each variants}}
						<div class="sg_demo">
							{{#block "content"}}
								{{{meta.demo}}}
							{{/block}}
						</div>
{{! Indentation matters... }}
{{> "preview/partials/code"}}
					{{/each}}
				</section>
			{{/hasVariants}}

			{{#if meta.documentation}}
				<section class="sg_tree__wrapper">
					<h2 class="sg__collapsible_title">Documentation</h2>

					<div class="sg_documentation">
						{{{meta.documentation}}}
					</div>
				</section>
			{{/if}}

			{{#if meta.mocks}}
				<section class="sg_tree__wrapper">
					<h2 class="sg__collapsible_title">Data mocking</h2>

					{{#each meta.mocks}}
						{{#if description}}
							<h3 class="sg_h3">{{description}}</h3>
						{{/if}}

						<pre class="sg_code hljs">{{{data}}}</pre>
					{{/each}}
				</section>
			{{/if}}

			<script src="/assets/js/main{{#unless env.dev}}.min{{/unless}}.js"></script>

			{{#block "scripts"}}
				{{#if meta.testScripts}}
					<section class="sg_tree__wrapper">
						<h2 class="sg__collapsible_title">QUnit tests</h2>

						{{> "preview/partials/qunit"}}
					</section>
				{{/if}}
			{{/block}}
		</div>
	{{/content}}
{{/extend}}
